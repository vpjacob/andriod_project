<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, initial-scale=1.0, width=device-width"/>
		<meta name="format-detection" content="telephone=no, email=no, date=no, address=no">
		<title>转赠记录</title>
		<link rel="stylesheet" type="text/css" href="../../css/api.css" />
		<link rel="stylesheet" type="text/css" href="../../css/sm.min.css">
		<link rel="stylesheet" href="../../css/sm-extend.min.css">
		<script type='text/javascript' src='../../script/zepto.min.js' charset='utf-8'></script>
		<script type='text/javascript' src='../../script/sm.min.js' charset='utf-8'></script>
		<script type='text/javascript' src='../../script/sm-extend.min.js' charset='utf-8'></script>
		<link rel="stylesheet" type="text/css" href="../../css/all.css">
		<link rel="stylesheet" type="text/css" href="../../css/base.css">
		<!--<link rel="stylesheet" type="text/css" href="recommend.css">-->
		<link rel="stylesheet" type="text/css" href="../../css/iconfont.css">
		<link rel="stylesheet" type="text/css" href="../../css/person/iconfont.css">
		<style>
			body {
				font-family: "微软雅黑";
			}
			a {
				color: #000;
			}
			a:active, a:link, a:visited, a:hover {
				color: #000;
				text-decoration: none;
			}
			.list-block .item-inner:after {
				content: none;
			}
			.bar {
				z-index: 0;
			}
		</style>
	</head>
	<body>
		<div class="page-group">
			<div class="page">
				<!--<header class="bar bar-nav" id="header">
					<a class="icon pull-left" id="back"><i  class="iconfont icon-xiangzuo1" style="font-size: 28px;color: #999"></i></a>
					<h1 class="title">推荐记录</h1>
					<a class="top-bar-right" id="choose">筛选<i class="icon iconfont icon-top"></i></a>
				</header>
				<ul class="secondul">
				    <li class="first"></li>
					<li id="messenger">
					          信使
					</li>
					<li id="provider">
						商家
					</li>
					<li id="service ">
						服务商
					</li>
					<li id="manageCenter">
						管理中心
					</li>
				</ul>
				<div class="content" style="background-color: #f0f0f0;">
					<div id="tab1" class="tab">
						<div class="imgbottom">
							<img src="../../image/ring_02.png" alt="" />
							<p>
							    加载到0条数据
						     </p>
						</div>
						
					</div>
				</div>-->
				
				<div class="content" data-type="" style=''>
    <p>其他内容区域</p>
    <p>其他内容区域</p>
    ...
    <p>其他内容区域</p>
    <div class="buttons-tab fixed-tab" data-offset="44">
      <a href="#tab1" class="tab-link active button">全部</a>
      <a href="#tab2" class="tab-link button">待付款</a>
      <a href="#tab3" class="tab-link button">待发货</a>
    </div>

    <div class="tabs">
      <div id="tab1" class="tab active">
        <div class="content-block" style="padding-bottom: 12%;height:100%;">
          <div class="buttons-row">
            <a href="#tab1-1" class="tab-link active button">Tab 1</a>
            <a href="#tab1-2" class="tab-link button">Tab 2</a>
            <a href="#tab1-3" class="tab-link button">Tab 3</a>
          </div>
          <div class="tabs">
            <p class='tab active' id='tab1-1'>This is tab 1-1 content</p>
            <p class='tab' id='tab1-2'>This is tab 1-2 content</p>
            <p class='tab' id='tab1-3'>13855589778</p>
          </div>
        </div>
      </div>
      <div id="tab2" class="tab infinite-scroll" data-distance="50">
          <div class="list-block">
            <ul class="list-container">
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
            </ul>
          </div>
          <!-- 加载提示符 -->
          <div class="infinite-scroll-preloader">
            <div class="preloader">
            </div>
          </div>
      </div>
      <div id="tab3"  class="tab infinite-scroll">
          <div class="list-block">
            <ul class="list-container">
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              <li class="item-content"><div class="item-inner"><div class="item-title">条目</div></div></li>
              
            </ul>
          </div>
          <!-- 加载提示符 -->
          <div class="infinite-scroll-preloader">
            <div class="preloader">
            </div>
          </div>
      </div>
    </div>
  </div>
			</div>
		</div>
	</body>
	<script type="text/javascript" src="../../script/api.js"></script>
	<script type="text/javascript" src="../../script/common.js"></script>
	<!--<script type="text/javascript" src="recommend.js"></script>-->
	<script>
//	 $("#choose").on('click',function(){
//  var top=$(this).children().hasClass('icon-top');
//     if(top){
//        $(".secondul").show();
//        $(this).children().removeClass('icon-top').addClass('icon-down');
//     }else{
//        $(".secondul").hide();
//        $(this).children().removeClass('icon-down').addClass('icon-top');
//     }
//  })

$(document).on("pageInit", function(e,id,page) {
      alert(111);
      //多个标签页下的无限滚动
      var loading = false;
      // 每次加载添加多少条目
      var itemsPerLoad = 20;
      // 最多可加载的条目
      var maxItems = 40;
      var lastIndex = $('.list-container li')[0].length;
      function addItems(number, lastIndex) {
        // 生成新条目的HTML
        var html = '';
        for (var i = lastIndex + 1; i <= lastIndex + number; i++) {
          html += '<li class="item-content"><div class="item-inner"><div class="item-title">新条目</div></div></li>';
        }
        // 添加新条目
        $('.infinite-scroll.active .list-container').append(html);
      }
      $(page).on('infinite', function() {
        // 如果正在加载，则退出
        if (loading) return;
        // 设置flag
        loading = true;
        var tabIndex = 0;
        if($(this).find('.infinite-scroll.active').attr('id') == "tab2"){
          tabIndex = 0;
        }
        if($(this).find('.infinite-scroll.active').attr('id') == "tab3"){
          tabIndex = 1;
        }
        lastIndex = $('.list-container').eq(tabIndex).find('li').length;
        // 模拟1s的加载过程
        setTimeout(function() {
          // 重置加载flag
          loading = false;
          if (lastIndex >= maxItems) {
            // 加载完毕，则注销无限加载事件，以防不必要的加载:$.detachInfiniteScroll($('.infinite-scroll').eq(tabIndex));多个无线滚动请自行根据自己代码逻辑判断注销时机
            // 删除加载提示符
            alert(tabIndex);
            $('.infinite-scroll-preloader').eq(tabIndex).hide();
            $.detachInfiniteScroll($('.infinite-scroll').eq(tabIndex));
            return;
          }
          addItems(itemsPerLoad,lastIndex);
          // 更新最后加载的序号
          lastIndex =  $('.list-container').eq(tabIndex).find('li').length;
          $.refreshScroller();
        }, 1000);
      });
      
  });
  $.init()
	</script>
